<!doctype html>
<html lang="fr">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Equinox Reborn ‚Äî Compte √† rebours</title>
  <meta name="description" content="Compte √† rebours avant la soir√©e Equinox Reborn" />
  <style>
    :root{
      --bg: #0a0a0a;
      --fg: #ffffff;
      --glass: rgba(0,0,0,.55);
      --accent: #e6e6e6;
      --gap: clamp(12px, 2.2vw, 24px);
      --radius: 16px;
      --cardPad: clamp(10px, 2.6vw, 14px);
    }
    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0;
      font-family: system-ui, -apple-system, Segoe UI, Roboto, Ubuntu, Cantarell, Arial, "Noto Sans";
      color:var(--fg);
      background: var(--bg) center / cover no-repeat fixed;
      /* üîÅ Remplace cette URL par ton image de flyer */
      background-image: url("./Fly6122025.jpg");
      position:relative;
    }
    body::before{
      content:"";
      position:fixed; inset:0;
      background: radial-gradient(ellipse at center, rgba(0,0,0,.35), rgba(0,0,0,.78));
      pointer-events:none;
    }

    .wrap{
      min-height:100%;
      display:grid;
      place-items:center;
      padding: 6vh var(--gap);
      text-align:center;
    }

    .title{
      margin:0 0 1rem;
      letter-spacing:.08em;
      font-weight:700;
      text-transform:uppercase;
      font-size: clamp(24px, 3.8vw, 48px);
      text-shadow: 0 6px 24px rgba(0,0,0,.6);
    }
    .subtitle{
      margin:0 0 2rem;
      opacity:.9;
      font-size: clamp(14px, 1.8vw, 18px);
    }

    .countdown{
      display:flex; flex-wrap:wrap; justify-content:center; gap: var(--gap);
      max-width:1100px;
    }
    .unit{
      min-width: min(42vw, 180px);
      padding: clamp(12px, 2vw, 18px);
      border-radius: var(--radius);
      background: var(--glass);
      backdrop-filter: blur(6px);
      border: 1px solid rgba(255,255,255,.12);
      box-shadow: 0 10px 30px rgba(0,0,0,.35);
    }
    .num{
      font-variant-numeric: tabular-nums;
      font-weight: 800;
      line-height:1;
      font-size: clamp(36px, 7vw, 72px);
    }
    .label{
      margin-top:.35rem;
      text-transform:uppercase;
      letter-spacing:.12em;
      font-size: clamp(11px, 1.4vw, 13px);
      color: var(--accent);
      opacity:.95;
    }

    /* --- Line-up bloc --- */
    .djs{
      margin-top: 2.2rem;
      border-radius: var(--radius);
      background: var(--glass);
      backdrop-filter: blur(6px);
      border: 1px solid rgba(255,255,255,.12);
      box-shadow: 0 10px 30px rgba(0,0,0,.35);
      text-align: left;
    }
    .djs-header{
      display:flex; align-items:center; justify-content:space-between;
      gap:.75rem; padding: .9rem 1rem;
      border-bottom: 1px solid rgba(255,255,255,.1);
    }
    .djs-title{
      margin:0; text-transform:uppercase; letter-spacing:.08em;
      font-weight:800; font-size: clamp(14px, 1.8vw, 18px);
    }
    .toggle{
      appearance:none; border:1px solid rgba(255,255,255,.2);
      background: transparent; color:var(--fg);
      padding:.45rem .75rem; border-radius: 999px;
      font-size: 13px; cursor:pointer;
    }

    /* Contenu repliable */
    .djs-content{ display:block; }
    .djs[hidden-content="true"] .djs-content{ display:none; }

    /* Liste mobile = slider horizontal, cartes compactes */
    .dj-track{
      display:flex; gap:.75rem;
      padding: .9rem 1rem 1.1rem;
      overflow-x:auto; overscroll-behavior-x: contain;
      scroll-snap-type:x proximity;
      -webkit-overflow-scrolling: touch;
    }
    .dj{
      scroll-snap-align:start;
      white-space:nowrap;
      padding: var(--cardPad) calc(var(--cardPad) + 2px);
      border: 1px solid rgba(255,255,255,.18);
      border-radius: 12px;
      background: rgba(0,0,0,.35);
      box-shadow: 0 6px 18px rgba(0,0,0,.25) inset, 0 8px 20px rgba(0,0,0,.25);
      font-size: clamp(13px, 1.7vw, 16px);
    }
    .badge{
      display:inline-block; margin-left:.5ch; opacity:.85; font-size:.92em;
    }
    .birthday{
      display:block; margin: .25rem 1rem 0;
      font-style:italic; opacity:.92; text-align:center;
      font-size: clamp(13px, 1.7vw, 16px);
    }

    /* ‚â• 700px : grille 2 colonnes pour tout voir sans slider */
    @media (min-width: 700px){
      .dj-track{
        display:grid;
        grid-template-columns: 1fr 1fr;
        gap:.75rem .75rem;
        overflow:visible;
      }
      .dj{
        white-space:normal;
      }
      .birthday{ text-align:left; margin-left: 1rem; }
    }

    .location{
      margin-top: 1.6rem;
      font-size: clamp(16px, 2vw, 22px);
      font-weight: 600;
      background: var(--glass);
      padding: .8rem 1.2rem;
      border-radius: var(--radius);
      border: 1px solid rgba(255,255,255,.12);
      box-shadow: 0 10px 30px rgba(0,0,0,.35);
      text-align:center;
    }

    .footer{
      margin-top: 1.6rem;
      font-size: 13px;
      opacity:.85;
    }
    .started{
      font-size: clamp(28px, 4.2vw, 42px);
      font-weight:800;
      padding:.6rem 1rem;
      border-radius: var(--radius);
      background: var(--glass);
      display:inline-block;
      border: 1px solid rgba(255,255,255,.12);
      box-shadow: 0 10px 30px rgba(0,0,0,.35);
    }

    /* Motion respect */
    @media (prefers-reduced-motion: reduce){
      *{scroll-behavior:auto}
    }
  </style>
</head>
<body>
  <div class="wrap">
    <main>
      <h1 class="title">Equinox Reborn</h1>
      <p class="subtitle">Compte √† rebours avant la soir√©e</p>

      <div id="countdown" class="countdown" aria-live="polite"></div>

      <!-- Bloc Line-up (repliable) -->
      <section class="djs" id="lineup" hidden-content="false" aria-labelledby="lineup-title">
        <div class="djs-header">
          <h2 class="djs-title" id="lineup-title">Line-up</h2>
          <button class="toggle" id="toggleLineup" aria-expanded="true" aria-controls="lineup-content">Replier</button>
        </div>
        <div class="djs-content" id="lineup-content">
          <!-- Mobile: slider tactile | Desktop: 2 colonnes -->
          <div class="dj-track">
            <div class="dj">LEELOO <span class="badge">(Hardcoholics)</span></div>
            <div class="dj">INGLER</div>
            <div class="dj">LA PESTE</div>
            <div class="dj">LE TALIUM</div>
            <div class="dj">SPEEDLOADER</div>
            <div class="dj">KDX</div>
            <div class="dj">DAVID LAGON</div>
          </div>
          <span class="birthday">Birthday David Lagon</span>
        </div>
      </section>

      <!-- Texte lieu secret -->
      <p class="location">Lieu secret d√©voil√© au dernier moment sur cette page</p>

      <p class="footer">Soir√©e du 6 d√©cembre 2025 ‚Äî Europe/Paris</p>
    </main>
  </div>

  <script>
    // === Config ===
    const eventDate = new Date("2025-12-06T22:00:00+01:00");
    const startedText = "C'est parti !";

    // Countdown
    const pad = n => String(n).padStart(2, "0");
    function renderCountdown(ms){
      const el = document.getElementById("countdown");
      if(ms <= 0){
        el.innerHTML = `<div class="started" role="status">${startedText}</div>`;
        return;
      }
      const sec = Math.floor(ms / 1000);
      const days = Math.floor(sec / 86400);
      const hours = Math.floor((sec % 86400) / 3600);
      const minutes = Math.floor((sec % 3600) / 60);
      const seconds = sec % 60;

      el.innerHTML = `
        <div class="unit"><div class="num">${pad(days)}</div><div class="label">Jours</div></div>
        <div class="unit"><div class="num">${pad(hours)}</div><div class="label">Heures</div></div>
        <div class="unit"><div class="num">${pad(minutes)}</div><div class="label">Minutes</div></div>
        <div class="unit"><div class="num">${pad(seconds)}</div><div class="label">Secondes</div></div>
      `;
    }
    function tick(){
      renderCountdown(eventDate - new Date());
    }
    tick();
    const timer = setInterval(() => {
      tick();
      if (new Date() >= eventDate) clearInterval(timer);
    }, 1000);

    // Repli/d√©pli du line-up (persiste durant la session)
    const toggleBtn = document.getElementById('toggleLineup');
    const lineup = document.getElementById('lineup');
    const content = document.getElementById('lineup-content');
    const KEY = 'lineup-collapsed';

    // Restaurer l'√©tat
    try{
      const collapsed = sessionStorage.getItem(KEY) === '1';
      if(collapsed){
        lineup.setAttribute('hidden-content','true');
        toggleBtn.setAttribute('aria-expanded','false');
        toggleBtn.textContent = 'D√©plier';
      }
    }catch(e){}

    toggleBtn.addEventListener('click', () => {
      const isHidden = lineup.getAttribute('hidden-content') === 'true';
      if(isHidden){
        lineup.setAttribute('hidden-content','false');
        toggleBtn.textContent = 'Replier';
        toggleBtn.setAttribute('aria-expanded', 'true');
        try{ sessionStorage.setItem(KEY, '0'); }catch(e){}
      }else{
        lineup.setAttribute('hidden-content','true');
        toggleBtn.textContent = 'D√©plier';
        toggleBtn.setAttribute('aria-expanded', 'false');
        try{ sessionStorage.setItem(KEY, '1'); }catch(e){}
      }
    });
  </script>
</body>
</html>
